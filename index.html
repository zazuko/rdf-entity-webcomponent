<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>RDF entity demo</title>
    <script type="module" src="/src/rdf-entity.js"></script>

    <script type="module">
      import { ns } from './src/namespaces.js'
      import rdf from './src/rdf-ext.js'

      ns.ex = rdf.namespace('http://example.org/')

      const pointer = rdf.clownface({ dataset: rdf.dataset(), factory: rdf }).
        node(ns.ex.Person).
        addOut(ns.schema.address, ns.ex.address, address => {
          address.addOut(ns.rdf.type, ns.schema.PostalAddress).
            addOut(ns.schema.streetAddress, rdf.literal('3 Teewah Close')).
            addOut(ns.schema.postalCode, rdf.literal('4879')).
            addOut(ns.schema.email, rdf.literal('bob@example1.com')).
            addOut(ns.schema.email, rdf.literal('bob@example2.com')).
            addOut(ns.rdfs.label, rdf.literal('Bob\'s Address'))
        }).
        addOut(ns.schema.description, rdf.literal('Hello')).
        addOut(ns.schema.description, rdf.literal('cześć', 'pl')).
        addOut(ns.rdfs.label, rdf.literal('Robert', 'fr')).
        addOut(ns.rdfs.label, rdf.literal('Bob', 'en'))

      // Just adding a namedGraph for demo purposes
      const namedGraph = ns.ex.namedGraph

      function setNamedGraph (dataset) {
        return rdf.dataset(
          [...[...dataset].map(quad => rdf.quad(quad.subject, quad.predicate, quad.object, namedGraph))])
      }

      const demoPointer = rdf.clownface({ dataset: setNamedGraph(pointer.dataset), term: pointer.term })

      let demo = document.getElementById('demo')

      demo.technicalCues = true
      demo.compactMode = true
      demo.preferredLanguages = ['en', 'fr', 'de', 'it', 'pl']
      demo.embedNamed = true
      demo.maxLevel = 3
      demo.showNamedGraphs = true
      demo.metadata = {
        'SPARQL endpoint:': rdf.namedNode('http://example.org/sparql'),
        'Some': 'Value',
      }
      demo.pointer = demoPointer

    </script>
</head>
<body>
    <rdf-entity id="demo"/>
</body>
</html>



